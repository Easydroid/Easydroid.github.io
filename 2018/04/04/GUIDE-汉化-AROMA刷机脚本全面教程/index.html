<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>[GUIDE|汉化]AROMA刷机脚本全面教程 | 相约易卓，动手创造</title>
    <meta name="author" content="装机狂魔">
    
    <meta name="description" content="易卓工作室的官方博客">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="[GUIDE|汉化]AROMA刷机脚本全面教程"/>
    <meta property="og:site_name" content="易卓工作室"/>

    
    <meta property="og:image" content=""/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="易卓工作室" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="indigo">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">易卓工作室</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            分类
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            关于
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            搜索
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav indigo darken-1" id="main-menu">
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    首页
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    归档
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    分类
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    关于
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    搜索
                </a>
            </li>
        
    </ul>

    <ul class="side-nav indigo darken-1" id="category-menu">
    

            

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">搜索</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper indigo">
        <span class="breadcrumb">当前位置（分类目录）</span>
        
            

        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>[GUIDE|汉化]AROMA刷机脚本全面教程</h1>
    


            </div>
            <time class="pink-link-context" datetime="2018-04-04T12:52:28.000Z"><a href="/2018/04/04/GUIDE-汉化-AROMA刷机脚本全面教程/">2018-04-04</a></time>

            <span id="busuanzi_container_page_pv" class="read-times-container">
    <i class="fa fa-eye"></i>
    <span id="busuanzi_value_page_pv"></span>
</span>

            

            <div class="toc pink-link-context hide-on-med-and-down">
    <ol class="section table-of-contents"><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#前言"><span class="section table-of-contents-text">前言</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#必备条件"><span class="section table-of-contents-text">必备条件</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#设置"><span class="section table-of-contents-text">设置</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#基本编辑"><span class="section table-of-contents-text">基本编辑</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#设置屏幕分辨率"><span class="section table-of-contents-text">设置屏幕分辨率</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#建立基本的细节"><span class="section table-of-contents-text">建立基本的细节</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#展示一张图像"><span class="section table-of-contents-text">展示一张图像</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#显示动画后-显示图象-可选"><span class="section table-of-contents-text">显示动画后,显示图象(可选)</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#字体选择代码-不需要编辑"><span class="section table-of-contents-text">字体选择代码(不需要编辑)</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#窗口选择安装程序的主题"><span class="section table-of-contents-text">窗口选择安装程序的主题</span></a></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#显示基本信息"><span class="section table-of-contents-text">显示基本信息</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#许可窗口-可选"><span class="section table-of-contents-text">许可窗口(可选)</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#创建主菜单"><span class="section table-of-contents-text">创建主菜单.</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#I-2-系统信息"><span class="section table-of-contents-text">I.2 -系统信息</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#I-3-显示更新日志"><span class="section table-of-contents-text">I.3 -显示更新日志</span></a></li><li class="section table-of-contents-item section table-of-contents-level-2"><a class="section table-of-contents-link" href="#I-4-退出弹出"><span class="section table-of-contents-text">I.4 -退出弹出</span></a></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#创建不同类型的子窗口"><span class="section table-of-contents-text">-创建不同类型的子窗口</span></a><ol class="section table-of-contents-child"><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#选择框的子窗口"><span class="section table-of-contents-text">选择框的子窗口</span></a></li><li class="section table-of-contents-item section table-of-contents-level-3"><a class="section table-of-contents-link" href="#——创建复选框的子窗口"><span class="section table-of-contents-text">——创建复选框的子窗口</span></a></li></ol></li></ol></li><li class="section table-of-contents-item section table-of-contents-level-1"><a class="section table-of-contents-link" href="#尾声"><span class="section table-of-contents-text">尾声</span></a></li></ol>
</div>


            <div class="entry pink-link-context">
                <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>原帖地址:<a href="http://forum.xda-developers.com/showthread.php?t=2422457" target="_blank" rel="noopener">http://forum.xda-developers.com/showthread.php?t=2422457</a><br>原帖名称:[TUTORIAL] Comprehensive Guide for AROMA Installer For Beginners!! | 27/08/13<br>原作者：Ayush Singh<br>搬运汉化:zhaozihanzzh<br>特别感谢：有道网页翻译<br>–ME出征 寸草不生 Android小楼阁 年度汉化Beta1 如果汉化不当 请向我反馈–<br>来自网络的前言:“AROMA”来源于印度尼西亚语，意为“香味”，但它同时也是“AMARULLZ ANDROID ROM MANIFESTATION”的缩写。它是安卓的一种升级版的update-binary,包括很多特色，像向导安装、触摸用户界面（AROMA UI）、定制软件包、系 统检测、可定置主题（themeable）及用户交互。所有发布的版本均以“花卉”命名，例如，第一版名为“Anggrek”，意为“兰花”。<br>你好朋友,我们都知道最强大的基于Android Recovery的安装程序. .<br>Aroma安装程序简化了我们的rom,让它们高度可定制和交互<br>本指南将帮助您学会创造漂亮,互动和可定制的aroma ROM和MOD安装包</p>
<h1 id="必备条件"><a href="#必备条件" class="headerlink" title="必备条件"></a>必备条件</h1><ul>
<li><blockquote>
<p>用于制作脚本的电脑<br>ROM/MOD你想让aroma安装程序<br>Notepad++编辑软件安装程序文件<br>设备与CWM / TWRP Recovery测试你的aroma安装程序压缩<br>7z或WinRAR或任何其他使zip压缩工具<br>创造性思维和使用计算机的一些基本知识</p>
</blockquote>
</li>
</ul>
<p>我们现在就开始你的旅程!</p>
<h1 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h1><p>下载这个zip并在文件夹提取你的ROM或MOD</p>
<p>所以它是这样的[无图]</p>
<h1 id="基本编辑"><a href="#基本编辑" class="headerlink" title="基本编辑"></a>基本编辑</h1><p>现在让我们开始,到这个目录-meta- inf\com\google\android\</p>
<p>我们感兴趣的是编辑”aroma-config“和”updater-script”</p>
<p>首先用notepad++打开aroma-config </p>
<p>你将能够看到这样的一个窗口[无图]</p>
<h2 id="设置屏幕分辨率"><a href="#设置屏幕分辨率" class="headerlink" title="设置屏幕分辨率"></a>设置屏幕分辨率</h2><p>现在我们要做的第一件事是在aroma安装程序中声明我们的屏幕分辨率</p>
<p>根据您的屏幕分辨率,删除“#”前面的<br>例如我的设备是320x480,这是对我来说—:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ini_set("dp","1"); #-- LDPI ( 240x320 / QVGA )</span></span><br><span class="line">ini_set(<span class="string">"dp"</span>,<span class="string">"2"</span>); <span class="comment">#-- MDPI ( 320x480 / HVGA )</span></span><br><span class="line"><span class="comment"># ini_set("dp","3"); #-- HDPI ( 480x800 / WVGA )</span></span><br><span class="line"><span class="comment"># ini_set("dp","4"); #-- XHDPI ( 1280x720 / WVGA )</span></span><br><span class="line"><span class="comment"># ini_set("dp","5"); #-- XXHDPI ( 1920x1080 / WVGA )</span></span><br></pre></td></tr></table></figure></p>
<p>可选的——你可能会从上面的代码删除其他未使用的字符串</p>
<p>现在您已经为安装程序成功地声明你的屏幕分辨率!</p>
<h1 id="建立基本的细节"><a href="#建立基本的细节" class="headerlink" title="建立基本的细节"></a>建立基本的细节</h1><p>接下来我们要声明的是我们的ROM/MOD名称、日期、设备名称和版本</p>
<p>在aroma-config内你将能够找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ini_set(<span class="string">"rom_name"</span>,             <span class="string">"YOUR ROM NAME HERE™ "</span>);</span><br><span class="line">ini_set(<span class="string">"rom_version"</span>,          <span class="string">"YOUR VERSION"</span>);</span><br><span class="line">ini_set(<span class="string">"rom_author"</span>,           <span class="string">"YOUR NAME"</span>);</span><br><span class="line">ini_set(<span class="string">"rom_device"</span>,           <span class="string">"YOUR DEVICE NAME"</span>);</span><br><span class="line">ini_set(<span class="string">"rom_date"</span>,             <span class="string">"25/8/2013 - DATE OF YOUR MOD"</span>);</span><br></pre></td></tr></table></figure></p>
<p>根据你的ROM/MOD细节编辑它,填补相应的内部细节上面的””);</p>
<p>现在您已经成功地声明你的ROM/MOD名和其他有关细节</p>
<h1 id="展示一张图像"><a href="#展示一张图像" class="headerlink" title="展示一张图像"></a>展示一张图像</h1><p>现在让我们的安装程序美丽。我们将在当用户开始安装程序时,添加一个png图像显示。</p>
<p>你将能够在aroma-config内找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show Simple Splash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">splash(</span><br><span class="line">  <span class="comment">#-- Duration 5000ms / 5 seconds</span></span><br><span class="line">    5000,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- &lt;AROMA Resource Dir&gt;/SPLASH.png</span></span><br><span class="line">    <span class="string">"SPLASH"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>这将显示SPLASH.png 5秒,you can edit the no of seconds the image should be displayed<br>Edit 5000 to the no the seconds you want(这两句翻译不出来,自己领悟)<br>图像显示位于文件夹- META-INF\com\google\android\aroma<br>在这里你可以找到SPLASH.png,换成你的,记住应该使用相同于你的设备的分辨率<br>也是必须只能用.png格式</p>
<p>现在你已经成功添加了一个显示图象的aroma安装程序MOD</p>
<h2 id="显示动画后-显示图象-可选"><a href="#显示动画后-显示图象-可选" class="headerlink" title="显示动画后,显示图象(可选)"></a>显示动画后,显示图象(可选)</h2><p>您还可以添加一个动画aroma安装程序包</p>
<p>你将会在aroma-config内找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Show Animated Splash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">anisplash(</span><br><span class="line"><span class="comment">#  #-- Number of Loop</span></span><br><span class="line">    4,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Frame  [ Image, duration in millisecond ]</span></span><br><span class="line">    <span class="string">"anim/a1"</span>, 30,</span><br><span class="line">    <span class="string">"anim/a2"</span>, 30,</span><br><span class="line">    <span class="string">"anim/a3"</span>, 30,</span><br><span class="line">    <span class="string">"anim/a4"</span>, 30,</span><br><span class="line">    <span class="string">"anim/a5"</span>, 30,</span><br><span class="line">    <span class="string">"anim/a6"</span>, 30</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>这里从a1到a6的png将显示为4次30毫秒(循环数4)</p>
<p>你也可以编辑循环的次数到任何所需的次数<br>这里是4,按你的意愿编辑</p>
<p>将会被显示的图像在META-INF\com\google\android \aroma\anim文件夹<br>用你的png替换</p>
<p>注意:如果您不想要飞溅动画,从您的aroma-config里删除上面的代码。</p>
<p>现在您已经在安装程序开始前成功创建了动画显示</p>
<h1 id="字体选择代码-不需要编辑"><a href="#字体选择代码-不需要编辑" class="headerlink" title="字体选择代码(不需要编辑)"></a>字体选择代码(不需要编辑)</h1><p>这段代码是选择安装程序对话语言:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Font Selection</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>这将看起来像下面的aroma安装程序<br>[无图片]</p>
<h1 id="窗口选择安装程序的主题"><a href="#窗口选择安装程序的主题" class="headerlink" title="窗口选择安装程序的主题"></a>窗口选择安装程序的主题</h1><p>现在我们将创建一个窗口选择主题来安装使用ROM/MOD</p>
<p>滚动并在aroma-config找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">#   SELECT THEME</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">selectbox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"&lt;~themes.title&gt;"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Sub Title</span></span><br><span class="line">    <span class="string">"&lt;~themes.desc&gt;"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Icon:</span></span><br><span class="line">    <span class="string">"@personalize"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Will be saved in /tmp/aroma/theme.prop</span></span><br><span class="line">    <span class="string">"theme.prop"</span>,</span><br><span class="line">  </span><br><span class="line">    <span class="string">"Generic"</span>,            <span class="string">"Unthemed AROMA Installer"</span>,                                    0,      <span class="comment">#-- selected.0 = 1</span></span><br><span class="line">    <span class="string">"MIUI Theme"</span>,         <span class="string">"MIUI Theme by mickey-r &amp; amarullz"</span>,                           0,      <span class="comment">#-- selected.0 = 2</span></span><br><span class="line">    <span class="string">"NXT Theme"</span>,          <span class="string">"NXT Theme by Pranav Pandey"</span>,                                  0,      <span class="comment">#-- selected.0 = 3</span></span><br><span class="line">    <span class="string">"NextGen Theme"</span>,      <span class="string">"NextGen Theme by amarullz edit by Ayush"</span>,                     0,      <span class="comment">#-- selected.0 = 4</span></span><br><span class="line">    <span class="string">"Sense Theme"</span>,        <span class="string">"HTC Sense Theme by amarullz"</span>,                                 0,      <span class="comment">#-- selected.0 = 5</span></span><br><span class="line">    <span class="string">"Honami Theme"</span>,       <span class="string">"Xperia i1 Theme by Ayush"</span>,                                    1       <span class="comment">#-- selected.0 = 6</span></span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>使用的窗口类型的属性是单选框,这意味着以上的主题只能单选</p>
<p>这里的theme.prop是临时文件，存储用户的选择</p>
<p>这里Honami主题选择初始值1这意味着它是默认的,<br>(1代表选择,0代表没有选择)</p>
<p>注意:最后一个字符串的初始值[译者注:数字1]后没有逗号”,“,它不是一个错误</p>
<p>上面的主题已经包含在zip中,您可以找到存储主题目录-META-INF\com\google\android\aroma\themes<br>并按照你的意愿编辑它们,仅当你有关于png和.9.png知识时才能编辑它们.<br>根据原作者，zip中包括的主题是完美的。</p>
<p>现在滚动并在aroma-config找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># SET THEME</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"theme.prop"</span>,<span class="string">"selected.0"</span>)==<span class="string">"2"</span> <span class="keyword">then</span></span><br><span class="line">  theme(<span class="string">"miui"</span>);</span><br><span class="line">endif;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"theme.prop"</span>,<span class="string">"selected.0"</span>)==<span class="string">"3"</span> <span class="keyword">then</span></span><br><span class="line">  theme(<span class="string">"xNXT"</span>);</span><br><span class="line">endif;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"theme.prop"</span>,<span class="string">"selected.0"</span>)==<span class="string">"4"</span> <span class="keyword">then</span></span><br><span class="line">  theme(<span class="string">"NextGen"</span>);</span><br><span class="line">endif;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"theme.prop"</span>,<span class="string">"selected.0"</span>)==<span class="string">"5"</span> <span class="keyword">then</span></span><br><span class="line">  theme(<span class="string">"sense"</span>);</span><br><span class="line">endif;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"theme.prop"</span>,<span class="string">"selected.0"</span>)==<span class="string">"6"</span> <span class="keyword">then</span></span><br><span class="line">  theme(<span class="string">"i1"</span>);</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>不需要编辑,它已经完美,它声明主题的选择。</p>
<p>[无图]</p>
<p>现在您已经成功地创建了一个窗口来显示可用的主题选择</p>
<h1 id="显示基本信息"><a href="#显示基本信息" class="headerlink" title="显示基本信息"></a>显示基本信息</h1><p>现在我们将创建一个窗口显示安装前的ROM/MOD信息</p>
<p>向下滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">#   SHOW ROM/Mod INFORMATION</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">viewbox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"&lt;~welcome.title&gt;"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Text</span></span><br><span class="line">    <span class="string">"&lt;~welcome.text1&gt; &lt;b&gt;"</span>+</span><br><span class="line">	  <span class="comment">#-- Get Config Value</span></span><br><span class="line">	  ini_get(<span class="string">"rom_name"</span>)+</span><br><span class="line">	<span class="string">"&lt;/b&gt; &lt;~common.for&gt; &lt;b&gt;"</span>+ini_get(<span class="string">"rom_device"</span>)+<span class="string">"&lt;/b&gt;.\n\n"</span>+</span><br><span class="line">    </span><br><span class="line">    <span class="string">"&lt;~welcome.text2&gt;\n\n"</span>+</span><br><span class="line">	</span><br><span class="line">      <span class="string">"  &lt;~welcome.version&gt;\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+ini_get(<span class="string">"rom_version"</span>)+<span class="string">"&lt;/#&gt;&lt;/b&gt;\n"</span>+</span><br><span class="line">      <span class="string">"  &lt;~welcome.codename&gt;\t\t: &lt;b&gt;&lt;#selectbg_g&gt; &lt;/#&gt;&lt;/b&gt;\n"</span>+</span><br><span class="line">	  <span class="string">"  &lt;~welcome.updated&gt;\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+ini_get(<span class="string">"rom_date"</span>)+<span class="string">"&lt;/#&gt;&lt;/b&gt;\n\n\n"</span>+</span><br><span class="line"></span><br><span class="line">    <span class="string">"&lt;~welcome.next&gt;"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Icon</span></span><br><span class="line">    <span class="string">"@welcome"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>不需要编辑这个代码,它已经完美</p>
<p>Here the window is of viewbox attribute, we have just the back and next button in the window这里viewbox属性的窗口,我们刚刚和next按钮的窗口<br>这是如何在安装程序[暂无图片]</p>
<p>现在您已经成功地创建了一个窗口来显示ROM/MOD信息的安装程序</p>
<h2 id="许可窗口-可选"><a href="#许可窗口-可选" class="headerlink" title="许可窗口(可选)"></a>许可窗口(可选)</h2><p>现在我们将创建一个窗口显示许可/ 和条件下使用ROM/MOD</p>
<p>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># LICENSE</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">agreebox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"YOUR ROM/Mod NAME™ T&amp;C"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Subtitle / Description</span></span><br><span class="line">    <span class="string">"Read Carefully"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Icon:</span></span><br><span class="line">    <span class="string">"@license"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Text Content </span></span><br><span class="line">    resread(<span class="string">"license.txt"</span>),</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Checkbox Text</span></span><br><span class="line">    <span class="string">"Do you agree??"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Unchecked Alert Message</span></span><br><span class="line">    <span class="string">"You've to agree!!"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>根据你的ROM/MOD名称编辑标题”YOUR ROM/Mod NAME™ T&amp;C”。</p>
<p>显示存储在目录的许可——META-INF\com\google\android\aroma<br>您可以按你的ROM/MOD的需要编辑license.txt</p>
<p>如果你不需要许可窗口，删除上面的代码。</p>
<p>这是安装程序[无图]</p>
<p>现在您已经成功地创建了一个将显示许可的窗口</p>
<h1 id="创建主菜单"><a href="#创建主菜单" class="headerlink" title="创建主菜单."></a>创建主菜单.</h1><p>现在我们将创建一个窗口菜单选项的ROM/MOD</p>
<p>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># MAIN MENU- INSTALLER n MISC</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">menubox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"ROM/MOD NAME™ Menu"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Sub Title</span></span><br><span class="line">    <span class="string">"Please select from the Menu Below to Modify the required features"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Icon</span></span><br><span class="line">    <span class="string">"@apps"</span>,</span><br><span class="line">    </span><br><span class="line">  <span class="comment">#-- Will be saved in /tmp/aroma/menu.prop</span></span><br><span class="line">    <span class="string">"menu.prop"</span>,</span><br><span class="line">    </span><br><span class="line">     <span class="comment">#-------------------------+-----------------[ Menubox Items ]-------------------------+---------------#</span></span><br><span class="line">     <span class="comment"># TITLE                   |  SUBTITLE                                                 |   Item Icons  #</span></span><br><span class="line">     <span class="comment">#-------------------------+-----------------------------------------------------------+---------------#	</span></span><br><span class="line">	</span><br><span class="line">    <span class="string">"Custom Installation"</span>,        <span class="string">"ROM Installation with Various Features"</span>,                    <span class="string">"@install"</span>,      <span class="comment">#-- selected = 1</span></span><br><span class="line">    <span class="string">"System Info"</span>,                <span class="string">"Get and show device/partition informations"</span>,                <span class="string">"@info"</span>,         <span class="comment">#-- selected = 2</span></span><br><span class="line">    <span class="string">"ChangeLog"</span>,                  <span class="string">"ROM/Mod ChangeLog"</span>,                                         <span class="string">"@agreement"</span>,    <span class="comment">#-- selected = 3</span></span><br><span class="line">    <span class="string">"Quit Install"</span>,               <span class="string">"Leave Setup :("</span>,                                            <span class="string">"@install"</span>       <span class="comment">#-- selected = 4</span></span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>按你的ROM/MOD的名字编辑上面的标题。<br>选择由用户在上面的窗口——menu.prop将存储在一个临时文件<br>我在菜单中只增加了4选项,我建议只有你有适当的知识,才可以删除任何上面的字符串</p>
<p>这是在安装程序中[图片]</p>
<p>现在您已经成功地创建了你的安装程序主菜单</p>
<ul>
<li><blockquote>
<p>I.1 - &gt;第一个选项是安装程序子(分支)窗口中,我们将创建它</p>
</blockquote>
</li>
<li><blockquote>
<p>I.2 - &gt;第二个选项是显示系统信息。</p>
</blockquote>
</li>
<li><blockquote>
<p>I.3 - &gt;第三个选项是显示Mod/ROM的更新日志。</p>
</blockquote>
</li>
<li><blockquote>
<p>I.4 - &gt;第四个选项是退出安装程序</p>
</blockquote>
</li>
</ul>
<h2 id="I-2-系统信息"><a href="#I-2-系统信息" class="headerlink" title="I.2 -系统信息"></a>I.2 -系统信息</h2><p>现在可以创建子窗口显示系统信息</p>
<p>向下滚动并在aroma-config里找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># System Info </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"2"</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Show Please Wait</span></span><br><span class="line">  pleasewait(<span class="string">"Getting System Information..."</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Fetch System Information</span></span><br><span class="line">  setvar(</span><br><span class="line">    <span class="comment">#-- Variable Name</span></span><br><span class="line">      <span class="string">"sysinfo"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-- Variable Value</span></span><br><span class="line">      <span class="string">"&lt;@center&gt;&lt;b&gt;Your Device System Information&lt;/b&gt;&lt;/@&gt;\n\n"</span>+</span><br><span class="line">      </span><br><span class="line">      <span class="string">"Device Name\t\t: &lt;#469&gt;YOUR DEVICE NAME&lt;/#&gt;\n"</span>+</span><br><span class="line">      <span class="string">"Board Name\t\t: &lt;#469&gt;YOUR MODEL NAME&lt;/#&gt;\n"</span>+</span><br><span class="line">      <span class="string">"Manufacturer\t\t: &lt;#469&gt;YOUR MANUFACTURER&lt;/#&gt;\n"</span>+</span><br><span class="line">	  </span><br><span class="line">	  <span class="string">"\n"</span>+</span><br><span class="line">	  </span><br><span class="line">      <span class="string">"System Size\t\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+getdisksize(<span class="string">"/system"</span>,<span class="string">"m"</span>)+<span class="string">" MB&lt;/#&gt;&lt;/b&gt;\n"</span>+</span><br><span class="line">        <span class="string">"\tFree\t\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+getdiskfree(<span class="string">"/system"</span>,<span class="string">"m"</span>)+<span class="string">" MB&lt;/#&gt;&lt;/b&gt;\n\n"</span>+</span><br><span class="line">      <span class="string">"Data Size\t\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+getdisksize(<span class="string">"/data"</span>,<span class="string">"m"</span>)+<span class="string">" MB&lt;/#&gt;&lt;/b&gt;\n"</span>+</span><br><span class="line">        <span class="string">"\tFree\t\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+getdiskfree(<span class="string">"/data"</span>,<span class="string">"m"</span>)+<span class="string">" MB&lt;/#&gt;&lt;/b&gt;\n\n"</span>+</span><br><span class="line">      <span class="string">"SDCard Size\t\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+getdisksize(<span class="string">"/sdcard"</span>,<span class="string">"m"</span>)+<span class="string">" MB&lt;/#&gt;&lt;/b&gt;\n"</span>+</span><br><span class="line">        <span class="string">"\tFree\t\t: &lt;b&gt;&lt;#selectbg_g&gt;"</span>+getdiskfree(<span class="string">"/sdcard"</span>,<span class="string">"m"</span>)+<span class="string">" MB&lt;/#&gt;&lt;/b&gt;\n\n"</span>+</span><br><span class="line"></span><br><span class="line">      <span class="string">""</span></span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Show Textbox</span></span><br><span class="line">  textbox(</span><br><span class="line">    <span class="comment">#-- Title</span></span><br><span class="line">      <span class="string">"System Information"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-- Subtitle</span></span><br><span class="line">      <span class="string">"Current system Information on your Xperia MDPI"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-- Icon</span></span><br><span class="line">      <span class="string">"@info"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-- Text</span></span><br><span class="line">      getvar(<span class="string">"sysinfo"</span>)</span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Show Alert</span></span><br><span class="line">  alert(</span><br><span class="line">    <span class="comment">#-- Alert Title</span></span><br><span class="line">      <span class="string">"Finished"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-- Alert Text</span></span><br><span class="line">      <span class="string">"You will be back to Menu"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-- Alert Icon</span></span><br><span class="line">      <span class="string">"@alert"</span></span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Back to Menu ( 2 Wizard UI to Back )</span></span><br><span class="line">  back(<span class="string">"2"</span>);</span><br><span class="line">  </span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>下面的命令以此参数显示系统信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"2"</span> <span class="keyword">then</span></span><br><span class="line">..</span><br><span class="line">..</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>因为这是在菜单窗口中的第二个选项,所以我们在这里==“2”</p>
<p>按您的要求编辑这些字符串:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Device Name\t\t: &lt;#469&gt;YOUR DEVICE NAME&lt;/#&gt;\n"</span>+</span><br><span class="line"><span class="string">"Board Name\t\t: &lt;#469&gt;YOUR MODEL NAME&lt;/#&gt;\n"</span>+</span><br><span class="line"><span class="string">"Manufacturer\t\t: &lt;#469&gt;YOUR MANUFACTURER&lt;/#&gt;\n"</span>+</span><br></pre></td></tr></table></figure></p>
<p>剩下的代码是好的,不需要其他的编辑</p>
<p>这是在安装程序中[图片]</p>
<p>现在你已经成功添加一个窗口显示系统信息</p>
<h2 id="I-3-显示更新日志"><a href="#I-3-显示更新日志" class="headerlink" title="I.3 -显示更新日志"></a>I.3 -显示更新日志</h2><p>现在我们将创建一个弹出显示ROM/MOD的更新日志</p>
<p>滚动并在aroma-config找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># CHANGELOG DISPLAY</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"3"</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#-- TextDialog </span></span><br><span class="line"> textdialog(</span><br><span class="line">    <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"YOUR ROM NAME Changelog"</span>,</span><br><span class="line">	<span class="comment">#-- Text</span></span><br><span class="line">    resread(<span class="string">"changelog.txt"</span>),</span><br><span class="line">    <span class="comment">#-- Custom OK Button Text (Optional)</span></span><br><span class="line">    <span class="string">"Close"</span></span><br><span class="line"> );</span><br><span class="line"> </span><br><span class="line">  <span class="comment">#-- Back to Menu ( 2 Wizard UI to Back )</span></span><br><span class="line">  back(<span class="string">"1"</span>);</span><br><span class="line">  </span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>下面的命令以此参数显示系统信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"3"</span> <span class="keyword">then</span></span><br><span class="line">..</span><br><span class="line">..</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>因为这是菜单窗口中的第三个选项,所以我们在这里==“3”</p>
<p>按你的ROM/MOD名称编辑标题。</p>
<p>更新日志文件存储在目录-META-INF\com\google\android\aroma<br>按你的ROM/MOD的更新日志编辑changelog.txt</p>
<p>这是在安装程序中[图片]</p>
<p>现在您已经成功地创建了一个弹出显示更新日志(窗口)</p>
<h2 id="I-4-退出弹出"><a href="#I-4-退出弹出" class="headerlink" title="I.4 -退出弹出"></a>I.4 -退出弹出</h2><p>现在我们将创建一个对话退出安装程序</p>
<p>滚动并在aroma-config找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># QUIT INSTALLER</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"4"</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-- Exit</span></span><br><span class="line">	<span class="keyword">if</span></span><br><span class="line">	  confirm(</span><br><span class="line">		<span class="comment">#-- Title</span></span><br><span class="line">		  <span class="string">"Exit"</span>,</span><br><span class="line">		<span class="comment">#-- Text</span></span><br><span class="line">		  <span class="string">"Are you sure want to exit the Installer?"</span>,</span><br><span class="line">		<span class="comment">#-- Icon (Optional)</span></span><br><span class="line">		  <span class="string">"@alert"</span></span><br><span class="line">	  )==<span class="string">"yes"</span></span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	  <span class="comment">#-- Exit </span></span><br><span class="line">	  <span class="built_in">exit</span>(<span class="string">""</span>);</span><br><span class="line">	endif;</span><br><span class="line"></span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>下面的命令以此参数显示系统信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"4"</span> <span class="keyword">then</span></span><br><span class="line">. .</span><br><span class="line">. .</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>因为这是菜单窗口中的第四选项,所以我们在这里==“4”</p>
<p>这是在安装程序中[图片]</p>
<p>现在您已经成功地创建了一个对话框退出安装程序</p>
<p>恭喜你! 您已经创建了安装过程中的所有的基本窗口!<br>现在我将教你创建先进的安装接头 窗口 在下一篇文章(I.1) </p>
<h1 id="创建不同类型的子窗口"><a href="#创建不同类型的子窗口" class="headerlink" title="-创建不同类型的子窗口"></a>-创建不同类型的子窗口</h1><p>现在可以创建一个第一个选项菜单选择的显示子窗口安装程序</p>
<p>滚动并找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">#  Select Type of Install</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)==<span class="string">"1"</span> <span class="keyword">then</span></span><br></pre></td></tr></table></figure></p>
<p>因为这是第一个选项在菜单窗口中,所以我们在这里==“1”</p>
<h3 id="选择框的子窗口"><a href="#选择框的子窗口" class="headerlink" title="选择框的子窗口"></a>选择框的子窗口</h3><p>向下滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Sub Window 1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">selectbox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"TITLE 1"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Sub Title</span></span><br><span class="line">    <span class="string">"SUB TITLE 1"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#-- Icon:</span></span><br><span class="line">     <span class="string">"icons/install"</span>,</span><br><span class="line">	 </span><br><span class="line">  <span class="comment">#-- Will be saved in /tmp/aroma/window1.prop</span></span><br><span class="line">    <span class="string">"window1.prop"</span>,</span><br><span class="line">  </span><br><span class="line">	  <span class="comment">#----------------------------------[ Selectbox With Groups ]-----------------------------------#</span></span><br><span class="line">	  <span class="comment"># TITLE            |  SUBTITLE                                                 | Initial Value #</span></span><br><span class="line">	  <span class="comment">#------------------+-----------------------------------------------------------+---------------#  </span></span><br><span class="line">  </span><br><span class="line">       <span class="string">"Select One"</span>,        <span class="string">""</span>,                                                        2,         <span class="comment">#-- Group 1. key = "selected.1"</span></span><br><span class="line">        <span class="string">"OPTION 1"</span>,         <span class="string">"OPTION 1 DESCRIPTION"</span>,                                       0,      <span class="comment">#-- selected.1 = 1</span></span><br><span class="line">        <span class="string">"OPTION 2"</span>,         <span class="string">"OPTION 2 DESCRIPTION"</span>,                                       1       <span class="comment">#-- selected.1 = 2</span></span><br><span class="line">   </span><br><span class="line">	  <span class="comment">#--------[ Initial Value = 0: Unselected, 1: Selected, 2: Group Item, 3: Not Visible ]---------#</span></span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>使用的窗口类型选择框的属性,这意味着上述选项中只有一个可以选择</p>
<p>按您的需求以及它们的描述编辑标题,副标题,选项1,选项2</p>
<p>选项2有初始值1这意味着它是默认选中,<br>(1代表选择，0代表没有选择)</p>
<p>注意:最后一个字符串初始值后没有逗号”,“,它不是一个错误</p>
<p>方法——添加新选项<br>添加这个——代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"OPTION 3"</span>,         <span class="string">"OPTION 3 DESCRIPTION"</span>,                                       0       <span class="comment">#-- selected.1 = 3</span></span><br></pre></td></tr></table></figure></p>
<p>注意:如果这是你的第三选项,那么在第二选项的初始值后添加”,“</p>
<p>所以在添加新文本编辑器选项就是这个样子</p>
<p>这是在安装程序中[图片]</p>
<p>子窗口1已经成功创建了</p>
<p>现在可以创建子窗口2</p>
<p>向下滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Sub Window 2</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">selectbox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">	<span class="string">"TITLE 2"</span>,</span><br><span class="line">	  </span><br><span class="line">  <span class="comment">#-- Sub Title</span></span><br><span class="line">    <span class="string">"SUB TITLE 2"</span>,</span><br><span class="line">	  </span><br><span class="line">  <span class="comment">#-- Icon:</span></span><br><span class="line">	<span class="string">"@default"</span>,</span><br><span class="line">	  </span><br><span class="line">  <span class="comment">#-- Will be saved in /tmp/aroma/window2.prop</span></span><br><span class="line">	<span class="string">"window2.prop"</span>,</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">	  <span class="comment">#----------------------------------[ Selectbox With Groups ]-----------------------------------#</span></span><br><span class="line">	  <span class="comment"># TITLE            |  SUBTITLE                                                 | Initial Value #</span></span><br><span class="line">	  <span class="comment">#------------------+-----------------------------------------------------------+---------------#  </span></span><br><span class="line">  </span><br><span class="line">	</span><br><span class="line">      <span class="string">"Select One"</span>,          <span class="string">""</span>,                                                        2,         <span class="comment">#-- Group 1. key = "selected.1"</span></span><br><span class="line">      <span class="string">"OPTION 1"</span>,            <span class="string">"OPTION 1 SUBTITLE"</span>,                         			      1,       <span class="comment">#-- selected.1 = 1</span></span><br><span class="line">	  <span class="string">"OPTION 2"</span>,   		 <span class="string">"OPTION 2 SUBTITLE"</span>,                  				          0,       <span class="comment">#-- selected.1 = 2</span></span><br><span class="line">	  <span class="string">"OPTION 3"</span>,            <span class="string">"OPTION 3 SUBTITLE"</span>,                                         0,       <span class="comment">#-- selected.1 = 3</span></span><br><span class="line">	  <span class="string">"OPTION 4"</span>,         	 <span class="string">"OPTION 4 SUBTITLE"</span>,                    	                  0        <span class="comment">#-- selected.1 = 4</span></span><br><span class="line"></span><br><span class="line">  	  <span class="comment">#--------[ Initial Value = 0: Unselected, 1: Selected, 2: Group Item, 3: Not Visible ]---------#</span></span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>使用的窗口类型选择框的属性,这意味着上述选项中只有一个可以选择</p>
<p>编辑标题、副标题、选择以及它们描述按您的需求</p>
<p>选项1有初始值1这意味着它是默认选中,<br>(1代表选择，0代表没有选择)</p>
<p>注意:最后一个字符串的初始值后没有逗号”,“,这不是错误</p>
<p>注意:使用相同的方法如上所述创建更多的选择</p>
<p>这是在安装程序中[图片]</p>
<ul>
<li><blockquote>
<p>注意:如果你想得到一个单独的子窗口,删除整个子窗口2的代码<br>注意:如果您想添加一个新的子窗口,再加上面的代码下面列出的,但编辑一些值<br>标题、副标题,选项以及它们的描述要按您的需求<br>也把”window2.prop”编辑成”window3.prop”<br>注意:使用如上所述相同的方法创建更多的选择</p>
</blockquote>
</li>
</ul>
<p>子窗口2已经成功创建了</p>
<p>现在我假设您已经成功地学会创建子窗口选择框的属性,再次重新阅读代码,开发出更多的理解。<br>如果这是你的第一次，它可能需要一些时间来找出事情(理解),但它从不太会难。</p>
<h3 id="——创建复选框的子窗口"><a href="#——创建复选框的子窗口" class="headerlink" title="——创建复选框的子窗口"></a>——创建复选框的子窗口</h3><p>现在我们应当学会创建一个基于复选框的子窗口,我们可以选择多个选项</p>
<p>滚动,在aroma-config——找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Sub Window with CheckBoxes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">checkbox(</span><br><span class="line">  <span class="comment"># Title</span></span><br><span class="line">	<span class="string">"TITLE OF CHECKBOX"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># Sub Title</span></span><br><span class="line">	<span class="string">"SUB TITLE OF CHECKBOX HERE"</span>,</span><br><span class="line"> </span><br><span class="line">  <span class="comment"># Icon</span></span><br><span class="line">	<span class="string">"@update"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># Will be saved in /tmp/aroma/checkbox1.prop</span></span><br><span class="line">	<span class="string">"checkbox1.prop"</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#----------------------------------[ Selectbox With Groups ]-----------------------------------#</span></span><br><span class="line">  <span class="comment"># TITLE            |  SUBTITLE                                                 | Initial Value #</span></span><br><span class="line">  <span class="comment">#------------------+-----------------------------------------------------------+---------------#</span></span><br><span class="line">  </span><br><span class="line">	<span class="string">"AVAILABLE OPTIONS"</span>,     <span class="string">""</span>,                                                            2,      <span class="comment">#-- group 1</span></span><br><span class="line">	<span class="string">"I AM A REAL DEV"</span>,    <span class="string">"IF YOU ARE THE REAL DEVELOPER"</span>,                               1,      <span class="comment">#-- item.1.1</span></span><br><span class="line">	<span class="string">"I AM A NOOBS"</span>,       <span class="string">"IF YOU ARE THE REAL NOOBS"</span>,                                   0,      <span class="comment">#-- item.1.2</span></span><br><span class="line">	<span class="string">"I AM XDA-DEVELOPERS"</span>,<span class="string">"IF YOU HAVE AN ACCOUNT IN XDA-DEVELOPERS.COM"</span>,                0,      <span class="comment">#-- item.1.3</span></span><br><span class="line">	</span><br><span class="line">	<span class="string">"YOUR PROJECTS"</span>,      <span class="string">""</span>,                                                            2,      <span class="comment">#-- Group 2</span></span><br><span class="line">	<span class="string">"CUSTOM ROM"</span>,         <span class="string">"IF YOU MADE A CUSTOM ROM"</span>,                                    1,      <span class="comment">#-- item.2.1</span></span><br><span class="line">	<span class="string">"CUSTOM TROLL"</span>,       <span class="string">"IF YOU POST MANY TROLLS IN FORUM"</span>,                            0       <span class="comment">#-- item.2.2</span></span><br><span class="line">	</span><br><span class="line">	  <span class="comment">#--------[ Initial Value = 0: Unselected, 1: Selected, 2: Group Item, 3: Not Visible ]---------#</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>窗口使用复选框属性的类型,这意味着上述选项中只有一个可以选择</p>
<p>按您的需求和选项的描述编辑标题,副标题,选项值</p>
<p>这里item.1.1 item.2.1有初始值1，这意味着默认选中,<br>(1代表选择，0代表没有选择)</p>
<p>注意:最后一个字符串的初始值后没有逗号”,“,这不是错误</p>
<p>注意:如果您想创建一个新项，那么添加这个字符串:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"CUSTOM TROLL 2"</span>,       <span class="string">"IF YOU BLAH BLAH"</span>,                                          0       <span class="comment">#-- item.2.3</span></span><br></pre></td></tr></table></figure></p>
<p>注意,如果这是你在第二组的第三项,那么在item.2.2的初始值之后添加”,“</p>
<p>所以在添加新文本编辑器选项就是这个样子</p>
<p>这是在安装程序中[图片]</p>
<p>注意:如果您不想要子窗口与复选框,删除上面的代码</p>
<p>注意:如果您想要添加一个新的子窗口复选框,再加上面的代码下面列出的,但编辑一些值</p>
<p>标题、副标题,期权以及它们描述按您的需求<br>也把”checkbox1.prop”编辑成”checkbox2.prop”</p>
<p>注意:使用如上所述相同的方法创建更多的选择</p>
<p>子窗口与复选框已成功创建</p>
<p>现在我假设您已经成功地学会创建子窗口复选框的属性,再次重新阅读代码,开发更多的理解,<br>如果这是你第一次它可能需要一些时间来找出事情,但它从不会太难。</p>
<p>现在我要教你一些额外的可选的命令</p>
<p>1 -警告框<br>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Alert Window</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line">alert( <span class="string">"Attention"</span>, <span class="string">"PLACE YOUR TEXT HERE"</span>);</span><br></pre></td></tr></table></figure></p>
<p>这段代码用于创建额外的弹出警告<br>按你的愿望编辑文本显示</p>
<p>如果你不想要弹出警告,删除上面的代码</p>
<p>这是在安装程序中[图片]</p>
<p>现在您已经成功地创建了一个弹出警告框</p>
<ol start="2">
<li>前安装界面</li>
</ol>
<p>现在滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Installation UI</span></span><br><span class="line"></span><br><span class="line">ini_set(<span class="string">"text_next"</span>, <span class="string">"Install Now"</span>);</span><br><span class="line">ini_set(<span class="string">"icon_next"</span>, <span class="string">"@installbutton"</span>);</span><br><span class="line">  </span><br><span class="line">viewbox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"Ready to Install"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Text</span></span><br><span class="line">    <span class="string">"ROM is ready to be installed.\n\n"</span>+</span><br><span class="line">	<span class="string">"Press &lt;b&gt;Install&lt;/b&gt; to begin the installation.\n\n"</span>+</span><br><span class="line">	<span class="string">"To review or change any of your installation settings, press &lt;b&gt;Back&lt;/b&gt;.\n\n"</span>+</span><br><span class="line">	<span class="string">"Press Menu -&gt; Quit Installation to quit."</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Icon</span></span><br><span class="line">    <span class="string">"@install"</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>这是创建一个窗口前安装过程开始</p>
<p>如果你不想要前安装窗口，简单地删除上面的代码</p>
<p>这是在安装程序中[图片]</p>
<p>现在您已经成功地学会创建上面的可选的窗口和弹出窗口<br>这是两个可选的 窗口 经常使用的安装程序,使之更互动</p>
<p>现在滚动并找到下面这段安装界面窗口代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>记住不要删除”endif;”，这是上面的代码”if prop(“menu.prop”,”selected”)==”1” then”的继续部分。</p>
<p>现在是最后一个,安装程序的重要窗口</p>
<p>滚动,在aroma-config里找到这些代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># INSTALLATION PROCESS</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> prop(<span class="string">"menu.prop"</span>,<span class="string">"selected"</span>)== <span class="string">"1"</span> </span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">ini_set(<span class="string">"text_next"</span>, <span class="string">"Next"</span>);</span><br><span class="line">ini_set(<span class="string">"icon_next"</span>, <span class="string">"@next"</span>);</span><br><span class="line"></span><br><span class="line">install(</span><br><span class="line">  <span class="string">"YOUR ROM/Mod NAME™ Installation"</span>,</span><br><span class="line">  getvar(<span class="string">"rom_name"</span>) + <span class="string">"\n"</span> +</span><br><span class="line">  <span class="string">"Please wait while this ROM blows up your device :P"</span> +</span><br><span class="line">  <span class="string">""</span>,</span><br><span class="line">  <span class="string">"icons/install"</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ini_set(<span class="string">"text_next"</span>, <span class="string">"Finish"</span>);</span><br><span class="line">ini_set(<span class="string">"icon_next"</span>, <span class="string">"@finish"</span>);</span><br><span class="line"></span><br><span class="line">checkviewbox(</span><br><span class="line">  <span class="comment">#-- Title</span></span><br><span class="line">    <span class="string">"Installation Completed"</span>,</span><br><span class="line">	</span><br><span class="line">  <span class="comment">#-- Text</span></span><br><span class="line">    <span class="string">"&lt;#selectbg_g&gt;&lt;b&gt;Congrats...&lt;/b&gt;&lt;/#&gt;\n\n"</span>+</span><br><span class="line">    <span class="string">"&lt;b&gt;"</span>+ini_get(<span class="string">"rom_name"</span>)+<span class="string">"&lt;/b&gt; has been installed into your device.\n\n"</span>,</span><br><span class="line">    </span><br><span class="line"><span class="comment">#-- Icon</span></span><br><span class="line">    <span class="string">"@welcome"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Checkbox Text</span></span><br><span class="line">    <span class="string">"Reboot your device now."</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Initial Checkbox value ( 0=unchecked, 1=checked ) -  (Optional, default:0)</span></span><br><span class="line">    <span class="string">"1"</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">#-- Save checked value in variable "reboot_it" (Optional)</span></span><br><span class="line">    <span class="string">"reboot_it"</span></span><br><span class="line">);</span><br><span class="line">endif;</span><br><span class="line"></span><br><span class="line"><span class="comment">###</span></span><br><span class="line"><span class="comment"># Check if reboot checkbox was checked</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span></span><br><span class="line">  getvar(<span class="string">"reboot_it"</span>)==<span class="string">"1"</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">  <span class="comment"># reboot("onfinish");   - Reboot if anything finished</span></span><br><span class="line">  <span class="comment"># reboot("now");        - Reboot Directly</span></span><br><span class="line">  <span class="comment"># reboot("disable");    - If you set reboot("onfinish") before, use this command to revert it.</span></span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">  reboot(<span class="string">"onfinish"</span>);</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>这是创建一个安装进度和日志的代码的用户界面和现在的启动选项</p>
<p>在上面的代码中编辑”YOUR ROM/Mod NAME™ Installation”这个字符串成你的ROM/MOD的名字。</p>
<p>其他的所有代码很好</p>
<p>这就是安装程序看起来[无图]</p>
<p>现在与Ctrl+S保存文件aroma-config或save按钮</p>
<h1 id="尾声"><a href="#尾声" class="headerlink" title="尾声"></a>尾声</h1><p>现在您已经成功地创建了AROMA-CONFIG申请安装程序<br>这都是关于创建aroma安装程序用户界面……<br>我已经覆盖了所有的常用命令教程<br>感谢@amarullz 为美好的aroma安装程序<br>如果任何疑问/错误张贴在这里<br>教程为updater-script aroma-config对应<br>在本教程中我们将学习创建对应aroma配置的更新脚本<br>如果你读过我所有的aroma-config指南,那么这部分确实很简单。</p>
<p>手动,所以你要做的第一件事就是准备从你的设备论坛的任何第三方ROM/MOD的update-binary</p>
<p>你可以在这个目录找到update-binary -META-INF\com\google\android\<br>换成定制update-binary,这样你的安装程序不会在安装MOD/rom时报错</p>
<p>1)理解基础知识<br>现在让我们开始,用notepad++打开位于目录-META-INF\com\google\android\的updater-script文件</p>
<p>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span></span><br><span class="line">    file_getprop(<span class="string">"/tmp/aroma-data/menu.prop"</span>,<span class="string">"selected"</span>) == <span class="string">"1"</span></span><br><span class="line">     <span class="keyword">then</span></span><br></pre></td></tr></table></figure></p>
<p>所以现在你知道为什么”menu.prop”被宣布在aroma-config<br>== “1”表示我们现在要在menu.prop第一个选项定义子窗口 </p>
<p>现在按照mod/rom的名字编辑这个代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui_print(<span class="string">"-&gt; installing rom/mod name"</span>);</span><br></pre></td></tr></table></figure></p>
<p>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">	ui_print(<span class="string">"-&gt; mounting system..."</span>);</span><br><span class="line">run_program(<span class="string">"/sbin/busybox"</span>, <span class="string">"mount"</span>, <span class="string">"/system"</span>);</span><br></pre></td></tr></table></figure></p>
<p>这是挂载系统的分区,这样您就可以从系统分区添加/删除文件</p>
<p>2). 定义子窗口</p>
<p>现在我们将定义编码aroma-config工作我们创建的子菜单</p>
<p>2.1). 子窗口1</p>
<p>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span></span><br><span class="line">    file_getprop(<span class="string">"/tmp/aroma/window1.prop"</span>,<span class="string">"selected.1"</span>) == <span class="string">"1"</span></span><br><span class="line">     <span class="keyword">then</span></span><br><span class="line">    ui_print(<span class="string">"-&gt; installing option 1..."</span>);</span><br><span class="line">	package_extract_dir(<span class="string">"aroma/window1/option1"</span>, <span class="string">"/system"</span>);</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>按你aroma-config中定义的你ROM/MOD选项字符串编辑ui_print(“-&gt; installing option 1…”);</p>
<p>现在把你的选项1定制应用程序的文件夹添加到aroma\window1\option1\app<br>如果它是一个框架文件夹,把它添加到aroma\window1\option1\framework目录</p>
<p>现在你(use)已经成功地定义option1窗口1</p>
<p>重复相同的选项2,和3、4 …. 如果您已经创建了它们</p>
<p>现在你可能已经学会了如何为你在aroma-config中创建的子窗口1定义相应的MOD/ROM选项</p>
<p>2.2).对于子窗口2<br>现在滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span></span><br><span class="line">    file_getprop(<span class="string">"/tmp/aroma/window2.prop"</span>,<span class="string">"selected.1"</span>) == <span class="string">"1"</span></span><br><span class="line">     <span class="keyword">then</span></span><br><span class="line">    ui_print(<span class="string">"-&gt; installing option 1..."</span>);</span><br><span class="line">	package_extract_dir(<span class="string">"aroma/window2/option1"</span>, <span class="string">"/system"</span>);</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>在字符串aroma-config中定义并按你们的ROM/MOD选项编辑ui_print(“-&gt; installing option 1…”);</p>
<p>现在把你的选项1定制应用程序的文件夹aroma\window1\option2\app<br>如果它是一个框架文件夹文件,把它放到aroma\window1\option2\framework文件夹</p>
<p>现在使用option1窗口2定义成功</p>
<p>重复相同的选项2,和3、4 …. 如果您已经创建了它们</p>
<p>现在你可能已经学会了如何为你在aroma-config中创建的MODS/ROM子窗口2定义相应的选项</p>
<p>2.3)复选框的子窗口</p>
<p>滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span></span><br><span class="line">	file_getprop(<span class="string">"/tmp/aroma/checkbox1.prop"</span>,<span class="string">"item.1.1"</span>) == <span class="string">"1"</span></span><br><span class="line">		<span class="keyword">then</span></span><br><span class="line">		ui_print(<span class="string">"-&gt; installing item 1.1 "</span>);</span><br><span class="line">	package_extract_dir(<span class="string">"aroma/checkbox1/item-1.1"</span>, <span class="string">"/system"</span>);</span><br><span class="line">endif;</span><br></pre></td></tr></table></figure></p>
<p>按你aroma-config中定义的ROM/MOD选项字符串编辑ui_print(“-&gt; installing item 1.1 “);</p>
<p>现在把你的选项item1.1定制应用程序放到aroma\checkbox1\item-1.1\app文件夹<br>如果它是一个框架文件夹里的文件,把它放到aroma\checkbox1\item-1.1\framework文件夹</p>
<p>现在使用已经成功地定义option1复选框的窗口</p>
<p>为item1.2,1.3,2.1,2.2(和额外的项目,如果您已经创建了)也重复相同的(步骤)<br>现在你可能已经学会了如何定义相应的项目的插件/ rom aroma-config中创建复选框窗口</p>
<p>3).对ROM开发者来说很重要!<br>现在如果你已在为一个ROM制作Aroma安装程序,你必须为你的ROM脚本制作符号链接(译者注:原作者写的是”aymlinks”,应该是”symlinks”)和修改权限。<br>为了这个,打开来自你机型论坛的任何ROM的updater-script并找到单词”symlink”,然后复制关于symlink的所有行到你的updater-script<br>如果你不能够找到代码,尝试添加这些代码到你的刷机脚本-<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">ui_print(<span class="string">"-&gt; making symlinks..."</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/start"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/lsmod"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/r"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/vmstat"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ifconfig"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ionice"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/schedtop"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/wipe"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/reboot1"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/rmdir"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/route"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/chown"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/lsof"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/getevent"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/mkdir"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/netstat"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/renice"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/uptime"</span>);</span><br><span class="line">symlink(<span class="string">"mksh"</span>, <span class="string">"/system/bin/sh"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/smd"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/sync"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/mount"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/printenv"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/top"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/log"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/sendevent"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ps"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/dmesg"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/umount"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/kill"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/stop"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/newfs_msdos"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/iftop"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/chmod"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/rmmod"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/setconsole"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/mv"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/rm"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/id"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/watchprops"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/hd"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ctrlaltdel"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/sleep"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ls"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/cmp"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/insmod"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/nandread"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/date"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/dd"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/getprop"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/cat"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/df"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/touch"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ioctl"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/setprop"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/notify"</span>);</span><br><span class="line">symlink(<span class="string">"toolbox"</span>, <span class="string">"/system/bin/ln"</span>);</span><br><span class="line"></span><br><span class="line">ui_print(<span class="string">"-&gt; fixing permissions..."</span>);</span><br><span class="line">set_perm_recursive(0, 0, 0755, 0644, <span class="string">"/system"</span>);</span><br><span class="line">set_perm_recursive(0, 2000, 0755, 0755, <span class="string">"/system/bin"</span>);</span><br><span class="line">set_perm(0, 3003, 02750, <span class="string">"/system/bin/netcfg"</span>);</span><br><span class="line">set_perm(0, 3004, 02755, <span class="string">"/system/bin/ping"</span>);</span><br><span class="line">set_perm(0, 2000, 06750, <span class="string">"/system/bin/run-as"</span>);</span><br><span class="line">set_perm_recursive(1002, 1002, 0755, 0440, <span class="string">"/system/etc/bluetooth"</span>);</span><br><span class="line">set_perm(0, 0, 0755, <span class="string">"/system/etc/bluetooth"</span>);</span><br><span class="line">set_perm(1000, 1000, 0640, <span class="string">"/system/etc/bluetooth/auto_pairing.conf"</span>);</span><br><span class="line">set_perm(3002, 3002, 0444, <span class="string">"/system/etc/bluetooth/blacklist.conf"</span>);</span><br><span class="line">set_perm(1002, 1002, 0440, <span class="string">"/system/etc/dbus.conf"</span>);</span><br><span class="line">set_perm(1014, 2000, 0550, <span class="string">"/system/etc/dhcpcd/dhcpcd-run-hooks"</span>);</span><br><span class="line">set_perm_recursive(1000, 1000, 0771, 0644, <span class="string">"/data/app"</span>);</span><br><span class="line">set_perm_recursive(0 ,0 , 0755, 0755, <span class="string">"/system/etc/init.d"</span>);</span><br><span class="line">set_perm(0, 0, 0755, <span class="string">"/system/etc/be_movie"</span>);</span><br><span class="line">set_perm(0, 0, 0755, <span class="string">"/system/etc/be_photo"</span>);</span><br><span class="line">set_perm(0, 0, 0755, <span class="string">"/system/etc/be_album"</span>);</span><br><span class="line">set_perm(0, 2000, 0550, <span class="string">"/system/etc/init.goldfish.sh"</span>);</span><br><span class="line">set_perm(0, 2000, 0755, <span class="string">"/system/bin/sysinit"</span>);</span><br><span class="line">set_perm_recursive(0, 0, 0755, 0555, <span class="string">"/system/etc/ppp"</span>);</span><br><span class="line">set_perm_recursive(0, 2000, 0755, 0755, <span class="string">"/system/xbin"</span>);</span><br><span class="line">set_perm(0, 0, 04755, <span class="string">"/system/xbin/busybox"</span>);</span><br><span class="line">set_perm(0, 0, 06755, <span class="string">"/system/xbin/su"</span>);</span><br></pre></td></tr></table></figure></p>
<p>3). 为rom和MOD用户修复权限</p>
<p>现在滚动并找到这段代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ui_print(<span class="string">"-&gt; fixing permits :p"</span>);</span><br><span class="line">package_extract_file(<span class="string">"fix_permissions"</span>, <span class="string">"/tmp/fix_permissions"</span>);</span><br><span class="line">set_perm(0, 0, 0777, <span class="string">"/tmp/fix_permissions"</span>);</span><br><span class="line">run_program(<span class="string">"/tmp/fix_permissions"</span>);</span><br><span class="line">ui_print(<span class="string">"-&gt; finished installation...!"</span>);</span><br><span class="line">ui_print(<span class="string">"-&gt; enjoy..."</span>);</span><br><span class="line">ui_print(<span class="string">"-&gt; ..."</span>);</span><br><span class="line">ui_print(<span class="string">"-&gt; done...."</span>);</span><br><span class="line"></span><br><span class="line">endif;</span><br><span class="line"></span><br><span class="line">run_program(<span class="string">"/sbin/busybox"</span>, <span class="string">"umount"</span>, <span class="string">"/system"</span>);</span><br><span class="line"></span><br><span class="line">show_progress(1, 0);</span><br><span class="line"></span><br><span class="line">run_program(“/ tmp /fix_permissions”);用于修复权限</span><br><span class="line"></span><br><span class="line">endif;现在这是延续从file_getprop(<span class="string">"/tmp/aroma-data/menu.prop"</span>,<span class="string">"selected"</span>) == <span class="string">"1"</span></span><br><span class="line"></span><br><span class="line">命令run_program(<span class="string">"/sbin/busybox"</span>, <span class="string">"umount"</span>, <span class="string">"/system"</span>);,是为卸载系统分区安装完成</span><br></pre></td></tr></table></figure></p>
<p>现在用ctrl+s保存文件更新脚本或保存按钮</p>
<p>现在您已经为安装程序成功地创建了UPDATER-SCRIPT<br>这是关于创建相应的aroma UPDATER-SCRIPT的全部……<br>我已经覆盖了所有的常用命令教程<br>如果任何疑问/错误张贴在这里</p>

                


<p class="pink-link-context">
    <a href="/2018/04/03/GUIDE-ROM-MT65XX移植手册/" rel="next" title="[GUIDE|ROM]MT65XX移植手册">
    下一篇：[GUIDE|ROM]MT65XX移植手册
  </a>
</p>


            </div>
			
        </div>
    </div>
</article>






</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large pink">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect green" title="回到顶部"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse yellow darken-1"  data-activates="main-menu" title="菜单"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer indigo darken-1">
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2016-2018 Easydrid Studio, All rights reserved.
            <p class="right" style="margin-top: 0;">本博客由 <a href="https://hexo.io">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();

            // 目录随屏幕滚动（防止目录过长越过footer）
            var $toc = $('.toc');
            var scrollTargetTop = 0;
            $(window).scroll(function() {
                var $activeLink = $toc.find('a.active.section');
                if ($(window).scrollTop() < 100) {
                    scrollTargetTop = 0;
                } else {
                    if ($activeLink[0]) {
                        scrollTargetTop = $activeLink.offset().top - $toc.offset().top;
                    }
                }
                $toc.css('top', '-' + scrollTargetTop + 'px');
            });

            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            

            // 搜索功能
            $('.modal-trigger').leanModal({
                // 打开搜索框时自动聚焦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>



</body>
</html>
